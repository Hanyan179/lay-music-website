# 项目脚本使用说明

## 📋 脚本列表

### 1. 代码拉取脚本

#### `pull-code-simple.bat` - 简化版拉取脚本（推荐）
- **功能**: 从远程仓库拉取最新代码
- **使用方法**: 双击运行或在命令行执行 `.\pull-code-simple.bat`
- **特点**: 
  - 界面简洁，操作简单
  - 自动检测Git仓库状态
  - 显示当前分支和远程仓库信息
  - 执行 `git pull origin master`

#### `pull-code.bat` - 完整版拉取脚本
- **功能**: 功能更全面的代码拉取脚本
- **特点**:
  - 检查本地未提交更改
  - 支持暂存本地更改
  - 详细的状态提示

#### `pull-code.ps1` - PowerShell版本
- **功能**: PowerShell版本的拉取脚本
- **使用方法**: 在PowerShell中执行 `.\pull-code.ps1`

### 2. 开发服务器启动脚本

#### `start-dev.bat` - 开发环境启动（新增）
- **功能**: 启动Vue开发服务器并自动打开浏览器
- **使用方法**: 双击运行或在命令行执行 `.\start-dev.bat`
- **特点**:
  - 自动检查Node.js环境
  - 自动安装依赖（如需要）
  - 启动Vite开发服务器（端口3004）
  - 自动在默认浏览器打开 http://localhost:3004

### 3. 现有启动脚本

#### `start-frontend.bat` - 前端启动脚本
- **功能**: 启动前端开发服务器

#### `start-backend.bat` - 后端启动脚本  
- **功能**: 启动后端服务

#### `start-system.ps1` - 系统启动脚本
- **功能**: 完整的系统启动脚本

## 🚀 在Cursor中启动浏览器预览的方法

### 方法1: 使用新建的启动脚本（推荐）
1. 在Cursor中打开项目
2. 双击 `start-dev.bat` 脚本
3. 浏览器会自动打开并导航到 http://localhost:3004

### 方法2: 使用Cursor内置终端
1. 在Cursor中按 `Ctrl + ~` 打开内置终端
2. 运行命令: `npm run dev`
3. 等待服务启动后，浏览器会自动打开

### 方法3: 手动启动和预览
1. 在终端运行: `npm run dev`
2. 服务启动后，手动在浏览器访问: http://localhost:3004

### 方法4: 使用Cursor的Live Preview功能
1. 确保Vite开发服务器正在运行
2. 在Cursor中按 `Ctrl + Shift + P` 打开命令面板
3. 搜索并选择 "Live Preview: Show Preview"
4. 输入URL: http://localhost:3004

## ⚙️ Vite配置说明

项目的 `vite.config.ts` 已配置：
```typescript
server: {
  port: 3004,           // 固定端口3004
  strictPort: true,     // 端口被占用时直接报错
  open: true           // 自动打开浏览器
}
```

## 📝 使用建议

1. **首次使用**: 建议先运行 `pull-code-simple.bat` 确保代码是最新的
2. **日常开发**: 使用 `start-dev.bat` 快速启动开发环境
3. **端口冲突**: 如果3004端口被占用，可以修改 `vite.config.ts` 中的端口配置

## 🔧 故障排除

### 常见问题

#### 1. 脚本无法运行
- 确保在项目根目录运行脚本
- 检查是否有执行权限

#### 2. 浏览器未自动打开
- 手动访问 http://localhost:3004
- 检查默认浏览器设置

#### 3. 端口3004被占用
- 运行 `kill-port-3004.ps1` 脚本清理端口
- 或修改Vite配置使用其他端口

#### 4. 依赖安装失败
- 检查网络连接
- 尝试使用淘宝镜像: `npm config set registry https://registry.npmmirror.com` 